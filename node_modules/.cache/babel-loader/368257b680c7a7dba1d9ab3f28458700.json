{"remainingRequest":"/Users/nile/Blob/client/node_modules/babel-loader/lib/index.js!/Users/nile/Blob/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nile/Blob/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nile/Blob/client/src/views/UserInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nile/Blob/client/src/views/UserInfo.vue","mtime":1694740829132},{"path":"/Users/nile/Blob/client/babel.config.js","mtime":1670838334534},{"path":"/Users/nile/Blob/client/node_modules/cache-loader/dist/cjs.js","mtime":1694758944082},{"path":"/Users/nile/Blob/client/node_modules/babel-loader/lib/index.js","mtime":1681398123605},{"path":"/Users/nile/Blob/client/node_modules/cache-loader/dist/cjs.js","mtime":1694758944082},{"path":"/Users/nile/Blob/client/node_modules/vue-loader/lib/index.js","mtime":1694570286908}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuZGVsZXRlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmhhcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5zaXplLmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VySW5mbyIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVybEJhc2U6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAiZGV2ZWxvcG1lbnQiID8gImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMCIgOiAiIiwKICAgICAgYWN0aXZlTmFtZTogImZpcnN0IiwKICAgICAgbmFtZUZvcm06IHsKICAgICAgICB1c2VyOiAiIgogICAgICB9LAogICAgICBwYXNzRm9ybTogewogICAgICAgIG9sZFBhc3M6ICIiLAogICAgICAgIG5ld1Bhc3M6ICIiLAogICAgICAgIG5ld1Bhc3MyOiAiIgogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIC8q55So5oi35ZCN6KeE5YiZKi8KICAgICAgICB1c2VyOiBbewogICAgICAgICAgdmFsaWRhdG9yKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAgICAgICBpZiAoL15bXHdcdTRlMDAtXHU5ZmE1XXsyLDh9JC8udGVzdCh2YWx1ZSkpIHsKICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi55So5oi35ZCN5LiN5ruh6Laz6KeE5YiZIikpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICAvKuWvhueggeinhOWImSovCiAgICAgICAgb2xkUGFzczogW3sKICAgICAgICAgIHZhbGlkYXRvcihydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgICAgICAgaWYgKC9eW1x3XFtcXVwvXFxcLSFAIyQlXiYqKCkrPXwsLjw+Pzo7Iid7fV17NiwxOH0kLy50ZXN0KHZhbHVlKSkgewogICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLlr4bnoIHkuI3mu6HotrPop4TliJkiKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIG5ld1Bhc3M6IFt7CiAgICAgICAgICB2YWxpZGF0b3IocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGlmICgvXltcd1xbXF1cL1xcXC0hQCMkJV4mKigpKz18LC48Pj86OyIne31dezYsMTh9JC8udGVzdCh2YWx1ZSkpIHsKICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5a+G56CB5LiN5ruh6Laz6KeE5YiZIikpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICAvKuWGjeasoei+k+WFpeWvhueggeinhOWImSovCiAgICAgICAgbmV3UGFzczI6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLnBhc3NGb3JtLm5ld1Bhc3MpIHsKICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNhbGxiYWNrKCLkuKTmrKHovpPlhaXlr4bnoIHkuI3kuIDoh7QiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgaW1hZ2VVcmw6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKFsndXNlckluZm8nXSkKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5L+u5pS55pi156ewCiAgICBoYW5kbGVOYW1lVXBkYXRlKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsKICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm4gZmFsc2U7CiAgICAgICAgbGV0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gYXdhaXQgdGhpcy4kYXhpb3MoewogICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICB1cmw6ICIvdXBkYXRlL25hbWUiLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBuZXdOYW1lOiB0aGlzLm5hbWVGb3JtLnVzZXIKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAoZGF0YS5jb2RlICE9PSAwKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZyk7CiAgICAgICAgfQogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgZHVyYXRpb246IDEwMDAsCiAgICAgICAgICBtZXNzYWdlOiAi5pu05paw5oiQ5YqfIiwKICAgICAgICAgIG9uQ2xvc2UoKSB7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy/kv67mlLnlr4bnoIEKICAgIGhhbmRsZVBhc3NVcGRhdGUoZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGlmICghdmFsaWQpIHJldHVybiBmYWxzZTsKICAgICAgICBsZXQgewogICAgICAgICAgZGF0YQogICAgICAgIH0gPSBhd2FpdCB0aGlzLiRheGlvcyh7CiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgIHVybDogIi91cGRhdGUvcGFzcyIsCiAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgIF9pZDogdGhpcy51c2VySW5mby5faWQsCiAgICAgICAgICAgIG9sZFBhc3M6IHRoaXMucGFzc0Zvcm0ub2xkUGFzcywKICAgICAgICAgICAgbmV3UGFzczogdGhpcy5wYXNzRm9ybS5uZXdQYXNzCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGRhdGEuY29kZSAhPT0gMCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIG1lc3NhZ2U6ICLlr4bnoIHkv67mlLnmiJDlip8iLAogICAgICAgICAgZHVyYXRpb246IDEwMDAsCiAgICAgICAgICBvbkNsb3NlKCkgewogICAgICAgICAgICB0aGlzLiRjb25maXJtKCfmgqjnmoTkv6Hmga/lt7Lkv67mlLksIOivt+mHjeaWsOeZu+W9lScsICfmj5DnpLonLCB7CiAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgICAgICBjZW50ZXI6IHRydWUKICAgICAgICAgICAgfSkudGhlbihhc3luYyAoKSA9PiB7CiAgICAgICAgICAgICAgYXdhaXQgdGhpcy4kYXhpb3MoewogICAgICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgICAgICB1cmw6ICIvbG9naW4vbG9nb3V0IgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIi8iOwogICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIueCueWHu+WPlua2iCIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy/kuIrkvKDmiJDlip/kuYvlkI4KICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzLCBmaWxlKSB7CiAgICAgIGlmIChyZXMuY29kZSAhPT0gMCkgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICB9CiAgICAgIHRoaXMuaW1hZ2VVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUucmF3KTsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgIG1lc3NhZ2U6ICLkuIrkvKDmiJDlip8iLAogICAgICAgIGR1cmF0aW9uOiAxMDAwLAogICAgICAgIG9uQ2xvc2UoKSB7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+S4iuS8oOS5i+WQjueahOajgOa1iwogICAgYmVmb3JlQXZhdGFyVXBsb2FkKGZpbGUpIHsKICAgICAgLy/mmK/lkKbmmK/lm77niYfmoLzlvI8KICAgICAgbGV0IGlzSW1hZ2UgPSAvXmltYWdlXC8oZ2lmfGpwZWd8cG5nKSQvLnRlc3QoZmlsZS50eXBlKTsKICAgICAgLy/mmK/lkKblsI/kuo4yTQogICAgICBsZXQgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyOwogICAgICBpZiAoIWlzSW1hZ2UpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lv4XpobvmmK9qcGcvcG5nL2dpZuWbvueJhycpOwogICAgICB9CiAgICAgIGlmICghaXNMdDJNKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aS05YOP5Zu+54mH5aSn5bCP5LiN6IO96LaF6L+HIDJNQiEnKTsKICAgICAgfQogICAgICByZXR1cm4gaXNJbWFnZSAmJiBpc0x0Mk07CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["mapState","name","data","urlBase","process","env","NODE_ENV","activeName","nameForm","user","passForm","oldPass","newPass","newPass2","rules","validator","rule","value","callback","test","Error","required","trigger","imageUrl","computed","methods","handleNameUpdate","formName","$refs","validate","valid","$axios","method","url","newName","code","$message","error","msg","type","duration","message","onClose","window","location","reload","handlePassUpdate","_id","userInfo","$confirm","confirmButtonText","cancelButtonText","center","then","href","catch","console","log","handleAvatarSuccess","res","file","URL","createObjectURL","raw","beforeAvatarUpload","isImage","isLt2M","size"],"sources":["src/views/UserInfo.vue"],"sourcesContent":["<template>\r\n  <div id=\"UserInfo\">\r\n    <article v-if=\"userInfo._id\">\r\n      <h2>用户信息</h2>\r\n      <p>昵称：{{ userInfo.user }}</p>\r\n      <p>\r\n        头像：\r\n        <span\r\n          class=\"img\"\r\n          :style=\"{\r\n            backgroundImage: `url(${urlBase}${userInfo.face})`\r\n          }\"\r\n        ></span>\r\n      </p>\r\n      <div class=\"update\">\r\n        <el-tabs v-model=\"activeName\">\r\n          <el-tab-pane\r\n            label=\"修改昵称\"\r\n            name=\"first\"\r\n          >\r\n            <el-form\r\n              :model=\"nameForm\"\r\n              status-icon\r\n              :rules=\"rules\"\r\n              ref=\"nameForm\"\r\n              label-width=\"100px\"\r\n            >\r\n              <el-form-item label=\"原昵称\">\r\n                {{ userInfo.user }}\r\n              </el-form-item>\r\n              <el-form-item\r\n                label=\"新昵称\"\r\n                prop=\"user\"\r\n              >\r\n                <el-input\r\n                  type=\"text\"\r\n                  v-model=\"nameForm.user\"\r\n                  autocomplete=\"off\"\r\n                ></el-input>\r\n                <el-button\r\n                  type=\"primary\"\r\n                  @click=\"handleNameUpdate('nameForm')\"\r\n                >确认修改</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-tab-pane>\r\n          <el-tab-pane\r\n            label=\"修改密码\"\r\n            name=\"second\"\r\n          >\r\n            <el-form\r\n              :model=\"passForm\"\r\n              status-icon\r\n              :rules=\"rules\"\r\n              ref=\"passForm\"\r\n              label-width=\"100px\"\r\n            >\r\n              <el-form-item\r\n                label=\"原密码\"\r\n                prop=\"oldPass\"\r\n              >\r\n                <el-input\r\n                  type=\"password\"\r\n                  v-model=\"passForm.oldPass\"\r\n                  autocomplete=\"off\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item\r\n                label=\"新密码\"\r\n                prop=\"newPass\"\r\n              >\r\n                <el-input\r\n                  type=\"password\"\r\n                  v-model=\"passForm.newPass\"\r\n                  autocomplete=\"off\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item\r\n                label=\"确认新密码\"\r\n                prop=\"newPass2\"\r\n              >\r\n                <el-input\r\n                  type=\"password\"\r\n                  v-model=\"passForm.newPass2\"\r\n                  autocomplete=\"off\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button\r\n                  type=\"primary\"\r\n                  @click=\"handlePassUpdate('passForm')\"\r\n                >确认修改</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-tab-pane>\r\n          <el-tab-pane\r\n            label=\"修改头像\"\r\n            class=\"third\"\r\n            name=\"third\"\r\n          >\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              name=\"avatar\"\r\n              :action=\"urlBase+'/upload/face'\"\r\n              :show-file-list=\"false\"\r\n              :with-credentials=\"true\"\r\n              :on-success=\"handleAvatarSuccess\"\r\n              :before-upload=\"beforeAvatarUpload\"\r\n            >\r\n              <img\r\n                v-if=\"imageUrl\"\r\n                :src=\"imageUrl\"\r\n                class=\"avatar\"\r\n              >\r\n              <i\r\n                v-else\r\n                class=\"el-icon-plus avatar-uploader-icon\"\r\n              ></i>\r\n            </el-upload>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </article>\r\n    <article v-else>\r\n      <h2>用户信息</h2>\r\n      <p>暂未登陆，无信息。\r\n        <router-link to=\"/\">返回首页</router-link>\r\n      </p>\r\n    </article>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\"\r\n\r\nexport default {\r\n  name: \"UserInfo\",\r\n  data() {\r\n    return {\r\n      urlBase: process.env.NODE_ENV === \"development\" ? \"http://localhost:3000\" : \"\"\r\n      , activeName: \"first\"\r\n      , nameForm: { user: \"\" }\r\n      , passForm: {\r\n        oldPass: \"\",\r\n        newPass: \"\",\r\n        newPass2: \"\"\r\n      }\r\n      , rules: {\r\n        /*用户名规则*/\r\n        user: [{\r\n          validator(rule, value, callback) {\r\n            if (/^[\\w\\u4e00-\\u9fa5]{2,8}$/.test(value)) {\r\n              callback()\r\n            } else {\r\n              callback(new Error(\"用户名不满足规则\"))\r\n            }\r\n          },\r\n          required: true,\r\n          trigger: \"blur\"\r\n        }],\r\n\r\n        /*密码规则*/\r\n        oldPass: [{\r\n          validator(rule, value, callback) {\r\n            if (/^[\\w\\[\\]\\/\\\\\\-!@#$%^&*()+=|,.<>?:;\"'{}]{6,18}$/.test(value)) {\r\n              callback()\r\n            } else {\r\n              callback(new Error(\"密码不满足规则\"))\r\n            }\r\n          },\r\n          required: true,\r\n          trigger: \"blur\"\r\n        }],\r\n        newPass: [{\r\n          validator(rule, value, callback) {\r\n            if (/^[\\w\\[\\]\\/\\\\\\-!@#$%^&*()+=|,.<>?:;\"'{}]{6,18}$/.test(value)) {\r\n              callback()\r\n            } else {\r\n              callback(new Error(\"密码不满足规则\"))\r\n            }\r\n          },\r\n          required: true,\r\n          trigger: \"blur\"\r\n        }],\r\n        /*再次输入密码规则*/\r\n        newPass2: [{\r\n          validator: (rule, value, callback) => {\r\n            if (value === this.passForm.newPass) {\r\n              callback()\r\n            } else {\r\n              callback(\"两次输入密码不一致\")\r\n            }\r\n          },\r\n          required: true,\r\n          trigger: \"blur\"\r\n        }]\r\n\r\n      }\r\n      , imageUrl: \"\"\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['userInfo'])\r\n  },\r\n  methods: {\r\n    //修改昵称\r\n    handleNameUpdate(formName) {\r\n      this.$refs[formName].validate(async valid => {\r\n        if (!valid) return false\r\n        let { data } = await this.$axios({\r\n          method: \"post\",\r\n          url: \"/update/name\",\r\n          data: { newName: this.nameForm.user }\r\n        })\r\n\r\n        if (data.code !== 0) {\r\n          return this.$message.error(data.msg)\r\n        }\r\n\r\n        this.$message({\r\n          type: \"success\",\r\n          duration: 1000,\r\n          message: \"更新成功\",\r\n          onClose() {\r\n            window.location.reload()\r\n          }\r\n        })\r\n\r\n      })\r\n    },\r\n\r\n    //修改密码\r\n    handlePassUpdate(formName) {\r\n      this.$refs[formName].validate(async valid => {\r\n        if (!valid) return false\r\n        let { data } = await this.$axios({\r\n          method: \"post\",\r\n          url: \"/update/pass\",\r\n          data: {\r\n            _id: this.userInfo._id,\r\n            oldPass: this.passForm.oldPass,\r\n            newPass: this.passForm.newPass\r\n          }\r\n        })\r\n        if (data.code !== 0) {\r\n          return this.$message.error(data.msg)\r\n        }\r\n\r\n\r\n        this.$message({\r\n          type: \"success\",\r\n          message: \"密码修改成功\",\r\n          duration: 1000,\r\n          onClose() {\r\n            this.$confirm('您的信息已修改, 请重新登录', '提示', {\r\n              confirmButtonText: '确定',\r\n              cancelButtonText: '取消',\r\n              type: 'warning',\r\n              center: true\r\n            }).then(async () => {\r\n              await this.$axios({\r\n                method: \"post\",\r\n                url: \"/login/logout\"\r\n              })\r\n              window.location.href = \"/\"\r\n            }).catch(() => {\r\n              console.log(\"点击取消\")\r\n            });\r\n          }\r\n        })\r\n\r\n      })\r\n    },\r\n\r\n    //上传成功之后\r\n    handleAvatarSuccess(res, file) {\r\n      if (res.code !== 0) {\r\n        return this.$message.error(res.msg)\r\n      }\r\n      this.imageUrl = URL.createObjectURL(file.raw);\r\n      this.$message({\r\n        type: \"success\",\r\n        message: \"上传成功\",\r\n        duration: 1000,\r\n        onClose() {\r\n          window.location.reload()\r\n        }\r\n      })\r\n    },\r\n    //上传之后的检测\r\n    beforeAvatarUpload(file) {\r\n      //是否是图片格式\r\n      let isImage = /^image\\/(gif|jpeg|png)$/.test(file.type)\r\n      //是否小于2M\r\n      let isLt2M = file.size / 1024 / 1024 < 2;\r\n      if (!isImage) {\r\n        this.$message.error('上传头像必须是jpg/png/gif图片');\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传头像图片大小不能超过 2MB!');\r\n      }\r\n      return isImage && isLt2M\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n#UserInfo {\r\n  article {\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    margin-bottom: 15px;\r\n    box-shadow: 0 0 4px #ddd;\r\n    padding: 25px 20px;\r\n    background-color: #fff;\r\n    font-family: \"Quicksand\", \"Microsoft YaHei\", sans-serif;\r\n\r\n    h2 {\r\n      margin-bottom: 15px;\r\n      font-size: 20px;\r\n      letter-spacing: 3px;\r\n      line-height: 24px;\r\n      border-left: 5px solid #73b899;\r\n      text-indent: 10px;\r\n    }\r\n\r\n    p {\r\n      text-indent: 2em;\r\n      color: #444;\r\n      font-size: 14px;\r\n      letter-spacing: 4px;\r\n      line-height: 30px;\r\n\r\n      a {\r\n        color: #409eff;\r\n\r\n        &:hover {\r\n          text-decoration: underline;\r\n        }\r\n      }\r\n\r\n      span.img {\r\n        display: inline-block;\r\n        width: 40px;\r\n        height: 40px;\r\n        background-size: cover;\r\n        background-position: center center;\r\n      }\r\n    }\r\n  }\r\n\r\n  .third {\r\n    /deep/ .avatar-uploader .el-upload {\r\n      border: 1px dashed #d9d9d9;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n      position: relative;\r\n      overflow: hidden;\r\n    }\r\n    /deep/ .avatar-uploader .el-upload:hover {\r\n      border-color: #409eff;\r\n    }\r\n    /deep/ .avatar-uploader-icon {\r\n      font-size: 28px;\r\n      color: #8c939d;\r\n      width: 178px;\r\n      height: 178px;\r\n      line-height: 178px;\r\n      text-align: center;\r\n    }\r\n    /deep/ .avatar {\r\n      width: 178px;\r\n      height: 178px;\r\n      display: block;\r\n    }\r\n  }\r\n}\r\n/deep/ .el-form-item__content {\r\n  display: flex;\r\n}\r\n/deep/.el-button--primary {\r\n  margin-left: 20px;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"}]}